<html>
    <head>
        <title>DM324 - Home Page</title>
        <link rel="stylesheet" type="text/css" href="style.css">
   
    </head>

    <body>

        <nav>
            <ul>
                <li ><a href="index.html"  >Home</a></li>
                <li ><a href="studentlist.html" >Students List</a></li>
                <li ><a href="new_student.html" class="active">New Student</a></li>
        
                <li class="nav-right"><a href="sign.html">Logout</a></li>
            </ul>
        
        
        </nav>
<hr/>
<section>
    <h1 class="title">New Student</h1>
<!--<form action="api/add_new_student.php" method="POST" > --><!--action_page.php-->
 <!--Personal Info-->
 <fieldset >
    <legend>Personal Information</legend>
   
    <p>
    <label>
        Full Name: 
        <input type="text" name="txtFullName" required> 

    </label>
</p>
   <p> 
    <label>
        Birthdate: 
        <input type="date" name="txtBirthDate">
        
    </label>
</p>
<p>
    <label>
        Gender: 
        <input type="radio" name="gender" value="male" required>
        Male
        <input type="radio" name="gender" value="female">
        Female
    </label>
</p>
</fieldset>

<!--Personal Info-->

<!--Contact Info-->
<fieldset>
    <legend>Contact Information</legend>
   
<p>
    <label>
        Email: 
        <input type="email" name="txtEmail">

    </label>
</p>
<p>
    <label>
        Phone: 
        <input type="tel" name="txtPhone">

    </label>
</p>
<p>
    <label>
        Address:
        <textarea rows="5" cols="100" name="txtAddress"></textarea>
    </label>
</p>
</fieldset>
<!--#Contact Info-->

<!--University Info-->
<fieldset>
    <legend>University Information</legend>
   
<p><label >
    Choose Your Faculty:
    <select name="faculty">
        <option value="f1">Faculty 1       
        </option>
        <option value="f2">Faculty 2       
        </option>

    </select>
</label></p>
</fieldset>

<input type="submit" class="button" value="Add" name="add" onclick="insertNewStudent();">

<!--</form>-->

</section>   
<hr/>
<footer>
 <a href ="http://www.fue.edu.eg" target="_blank">&copy; Future University in Egypt</a>&nbsp;&nbsp;&mdash;&nbsp;&nbsp;
 <a href="mailto:20132627@fue.edu.eg">contact us</a>
</footer>



<script>
    
        //Ajax Example
        function  insertNewStudent() {

           var full_name =  document.getElementsByName('txtFullName')[0].value ;
           var birthdate =  document.getElementsByName('txtBirthDate')[0].value ;
           var gender =  document.getElementsByName('gender')[0].value ;
           var email =  document.getElementsByName('txtEmail')[0].value ;
           var phone =  document.getElementsByName('txtPhone')[0].value ;
           var address =  document.getElementsByName('txtAddress')[0].value ;
           var faculty =  document.getElementsByName('faculty')[0].value ;
          
          console.log(full_name);

            var data  = {txtFullName:full_name,txtBirthDate:birthdate,gender:gender,txtEmail:email,txtPhone:phone,txtAddress:address,faculty:faculty};
          
            var post_url = "api/add_new_student.php"
            var http_request = new XMLHttpRequest();
          
            http_request.onreadystatechange = function(){
                if (http_request.readyState == 4  ) {
                  var responseText = http_request.responseText;
                    alert(responseText);
           
            }
        }   			
            http_request.open("POST", post_url, true);
            http_request.send(JSON.stringify(data));
  
        }


</script>

</body>

</html>
